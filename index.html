<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Universal API Messenger</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
    input, textarea, select { width: 100%; margin-bottom: 10px; padding: 8px; }
    button { padding: 10px 20px; }
    #response { white-space: pre-wrap; background: #fff; padding: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>Universal API Messenger</h1>

  <label>API URL:</label>
  <input type="text" id="apiUrl" placeholder="https://api.example.com/endpoint">

  <label>HTTP Method:</label>
  <select id="httpMethod">
    <option value="POST">POST</option>
    <option value="GET">GET</option>
  </select>

  <label>Headers (JSON):</label>
  <textarea id="headers" rows="4" placeholder='{"Authorization": "Bearer YOUR_API_KEY"}'></textarea>

  <label>Payload (JSON):</label>
  <textarea id="payload" rows="6" placeholder='{"message": "Hello from Farzaneh"}'></textarea>

  <button onclick="sendMessage()">Send Message</button>

  <h2>Response:</h2>
  <div id="response"></div>

  <script>
    async function sendMessage() {
      const url = document.getElementById('apiUrl').value;
      const method = document.getElementById('httpMethod').value;
      const headers = JSON.parse(document.getElementById('headers').value || '{}');
      const payload = JSON.parse(document.getElementById('payload').value || '{}');

      try {
        const options = {
          method,
          headers,
        };
        if (method === 'POST') {
          options.body = JSON.stringify(payload);
        }

        const res = await fetch(url, options);
        const text = await res.text();
        document.getElementById('response').textContent = `Status: ${res.status}\n\n${text}`;
      } catch (err) {
        document.getElementById('response').textContent = `Error: ${err}`;
      }
    }
  </script>
</body>
</html>

